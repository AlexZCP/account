import{j as K,r as v,aU as S,d as w,w as x,k as c,l as k,D as y,t as e,u as n,x as i,e as t,q as _,v as f,aZ as Z,M as $}from"./naive-ui.74261fd6.js";import{_ as C,u as G,a as V,b as O}from"./index.1776dfb4.js";var T="/account/img/login_people.svg";const H={class:"GeneralLoginForm"},J={class:"cols"},P={class:"column col-12 col-sm-6"},Q={class:"login__image"},W=["alt"],X={class:"column col-12 col-sm-6"},Y={class:"login__form"},ee={class:"cols"},se={class:"column col-6 login__form__header"},oe={class:"column col-6 create_account"},te={class:"column col-12"},ae={class:"cols"},ne={class:"column col-12"},ce={class:"cols"},le={class:"column col-6"},re={class:"column col-6 create_account"},_e={href:"#",class:"create_account__link"},ie=K({props:{msg:String},setup(M){const u="auth",d=v(null),p=v(!1),D=S(),m=G(),N=V(),{t:s}=O(),R=w(()=>m.state[u].user),U=w(()=>m.state[u].msg_id),j={username:{required:!0,validator:(a,o)=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o),message:s("text.please_input_email"),trigger:"blur"},password:{required:!0,message:s("text.please_input_password"),trigger:["input","blur"]}},l=v({username:"",password:""}),h=()=>{var a;(a=d.value)==null||a.validate(o=>{o||(p.value=!0,m.dispatch(u+"/login",l.value))})};return x(R,a=>{p.value=!1,a.name&&a.id&&N.push("/dashboard")}),x(U,a=>{const o=a.split("auth.error.");o.length>1&&D.error(s("message."+o[1]))}),(a,o)=>{const q=c("router-link"),g=c("cp-input"),b=c("cp-form-item"),A=c("cp-form"),B=c("cp-spin"),E=c("cp-checkbox"),F=c("cp-button");return k(),y("div",H,[e("div",J,[e("div",P,[e("div",Q,[e("img",{src:T,alt:n(s)("message.wellcome")},null,8,W)])]),e("div",X,[e("div",Y,[e("div",ee,[e("div",se,[e("h3",null,i(n(s)("text.login_to_cp")),1)]),e("div",oe,[t(q,{to:"/registration",class:"create_account__link"},{default:_(()=>[f(i(n(s)("message.create_acccount")),1)]),_:1})]),e("div",te,[t(B,{show:p.value,size:100,"stroke-width":5},{default:_(()=>[t(A,{ref:(r,I)=>{I.formRef=r,d.value=r},model:l.value,rules:j,onKeyup:Z(h,["enter"])},{default:_(()=>[e("div",ae,[e("div",ne,[t(b,{label:n(s)("label.email"),path:"username"},{default:_(()=>[t(g,{value:l.value.username,"onUpdate:value":o[0]||(o[0]=r=>l.value.username=r),class:"input--blue-override"},null,8,["value"])]),_:1},8,["label"]),t(b,{label:n(s)("label.password"),path:"password"},{default:_(()=>[t(g,{value:l.value.password,"onUpdate:value":o[1]||(o[1]=r=>l.value.password=r),type:"password","show-password-on":"mousedown",class:"input--blue-override","input-props":{autoComplete:"off"}},null,8,["value"])]),_:1},8,["label"])])])]),_:1},8,["model","onKeyup"])]),_:1},8,["show"]),e("div",ce,[e("div",le,[t(E,{size:"large",type:"checkbox"}),f(" "+i(n(s)("text.remember_me")),1)]),e("div",re,[e("a",_e,i(n(s)("text.forgot_password")),1)])]),t(F,{onClick:$(h,["prevent"]),type:"info",class:"cp-button",size:"huge"},{default:_(()=>[f(i(n(s)("label.login")),1)]),_:1},8,["onClick"])])])])])])])}}});var ue=C(ie,[["__scopeId","data-v-2aa1381c"]]),L={};const z={},de={class:"home"};function pe(M,u){const d=ue;return k(),y("div",de,[t(d)])}typeof L=="function"&&L(z);var fe=C(z,[["render",pe]]);export{fe as default};
